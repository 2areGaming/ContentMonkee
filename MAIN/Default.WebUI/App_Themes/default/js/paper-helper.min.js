var paperhelper={computeColor:function(n,t){var i=parseInt(n.slice(1),16),r=Math.round(2.55*t),u=(i>>16)+r,f=(i>>8&255)+r,e=(i&255)+r;return"#"+(16777216+(u<255?u<1?0:u:255)*65536+(f<255?f<1?0:f:255)*256+(e<255?e<1?0:e:255)).toString(16).slice(1)},addPointsToList:function(n,t){for(var r=t.segments,i=0;i<r.length;i++)n.AddUnique(n,{point:r[i].point})},movePoint:function(n,t,i){for(var u,f=[],r=0;r<n.length;r++)for(u=0;u<n[r].segments.length;u++)n[r].segments[u].point.y==t.y&&n[r].segments[u].point.x==t.x&&f.push(n[r].segments[u]);for(r=0;r<f.length;r++)f[r].point=i;t=i},createElements:function(n,t,i,r,u,f){var e=new n.Path.Rectangle({point:[0,0],size:[u*100,r*100]});e.sendToBack();e.fillColor=f;t[0]=new n.Path;t[0].add(new n.Point(0,r*28));t[0].add(new n.Point(0,r*40));t[0].add(new n.Point(u*12.5,r*75));t[0].add(new n.Point(u*8,r*40));t[0].closed=!0;t[0].fillColor=this.computeColor(f,-5);this.addPointsToList(i,t[0]);t[1]=new n.Path;t[1].add(new n.Point(u*10,0));t[1].add(new n.Point(u*12,r*12));t[1].add(new n.Point(u*8,r*40));t[1].add(new n.Point(u*20,r*60));t[1].add(new n.Point(u*15,r*10));t[1].add(new n.Point(u*16.5,0));t[1].closed=!0;t[1].fillColor=this.computeColor(f,-4);this.addPointsToList(i,t[1]);t[2]=new n.Path;t[2].add(new n.Point(u*8,r*40));t[2].add(new n.Point(u*12.5,r*75));t[2].add(new n.Point(u*25,r*90));t[2].add(new n.Point(u*20,r*60));t[2].closed=!0;t[2].fillColor=this.computeColor(f,-7);this.addPointsToList(i,t[2]);t[3]=new n.Path;t[3].add(new n.Point(u*12.5,r*75));t[3].add(new n.Point(u*16,r*100));t[3].add(new n.Point(u*23,r*100));t[3].add(new n.Point(u*25,r*90));t[3].closed=!0;t[3].fillColor=this.computeColor(f,-4);this.addPointsToList(i,t[3]);t[4]=new n.Path;t[4].add(new n.Point(u*20,r*60));t[4].add(new n.Point(u*30,r*78));t[4].add(new n.Point(u*30,r*45));t[4].closed=!0;t[4].fillColor=this.computeColor(f,-7);this.addPointsToList(i,t[4]);t[5]=new n.Path;t[5].add(new n.Point(u*23,0));t[5].add(new n.Point(u*20,r*9));t[5].add(new n.Point(u*30,r*45));t[5].add(new n.Point(u*45,r*9));t[5].add(new n.Point(u*40,0));t[5].closed=!0;t[5].fillColor=this.computeColor(f,-4);this.addPointsToList(i,t[5]);t[6]=new n.Path;t[6].add(new n.Point(u*30,r*45));t[6].add(new n.Point(u*30,r*78));t[6].add(new n.Point(u*45,r*72));t[6].closed=!0;t[6].fillColor=this.computeColor(f,-4);this.addPointsToList(i,t[6]);t[7]=new n.Path;t[7].add(new n.Point(u*30,r*78));t[7].add(new n.Point(u*37,r*100));t[7].add(new n.Point(u*45,r*100));t[7].add(new n.Point(u*45,r*72));t[7].closed=!0;t[7].fillColor=this.computeColor(f,-7);this.addPointsToList(i,t[7]);t[8]=new n.Path;t[8].add(new n.Point(u*45,0));t[8].add(new n.Point(u*45,r*9));t[8].add(new n.Point(u*52,0));t[8].closed=!0;t[8].fillColor=this.computeColor(f,-9);this.addPointsToList(i,t[8]);t[9]=new n.Path;t[9].add(new n.Point(u*45,r*9));t[9].add(new n.Point(u*45,r*72));t[9].add(new n.Point(u*76,r*53));t[9].closed=!0;t[9].fillColor=this.computeColor(f,-9);this.addPointsToList(i,t[9]);t[10]=new n.Path;t[10].add(new n.Point(u*45,r*72));t[10].add(new n.Point(u*45,r*100));t[10].add(new n.Point(u*67,r*100));t[10].closed=!0;t[10].fillColor=this.computeColor(f,-10);this.addPointsToList(i,t[10]);t[11]=new n.Path;t[11].add(new n.Point(u*45,r*72));t[11].add(new n.Point(u*67,r*100));t[11].add(new n.Point(u*76,r*53));t[11].closed=!0;t[11].fillColor=this.computeColor(f,-6);this.addPointsToList(i,t[11]);t[12]=new n.Path;t[12].add(new n.Point(u*78,0));t[12].add(new n.Point(u*80,r*10));t[12].add(new n.Point(u*76,r*53));t[12].add(new n.Point(u*86,r*35));t[12].add(new n.Point(u*84,r*10));t[12].add(new n.Point(u*85,0));t[12].closed=!0;t[12].fillColor=this.computeColor(f,-5);this.addPointsToList(i,t[12]);t[13]=new n.Path;t[13].add(new n.Point(u*76,r*53));t[13].add(new n.Point(u*87.5,r*42));t[13].add(new n.Point(u*86,r*35));t[13].closed=!0;t[13].fillColor=this.computeColor(f,-9);this.addPointsToList(i,t[13]);t[14]=new n.Path;t[14].add(new n.Point(u*76,r*53));t[14].add(new n.Point(u*67,r*100));t[14].add(new n.Point(u*91,r*100));t[14].add(new n.Point(u*87.5,r*42));t[14].closed=!0;t[14].fillColor=this.computeColor(f,-13);this.addPointsToList(i,t[14]);t[15]=new n.Path;t[15].add(new n.Point(u*95,0));t[15].add(new n.Point(u*100,r*10));t[15].add(new n.Point(u*100,0));t[15].closed=!0;t[15].fillColor=this.computeColor(f,-10);this.addPointsToList(i,t[15]);t[16]=new n.Path;t[16].add(new n.Point(u*100,r*10));t[16].add(new n.Point(u*86,r*35));t[16].add(new n.Point(u*87.5,r*42));t[16].add(new n.Point(u*100,r*40));t[16].closed=!0;t[16].fillColor=this.computeColor(f,-7);this.addPointsToList(i,t[16]);t[17]=new n.Path;t[17].add(new n.Point(u*87.5,r*42));t[17].add(new n.Point(u*100,r*58));t[17].add(new n.Point(u*100,r*40));t[17].closed=!0;t[17].fillColor=this.computeColor(f,-8);this.addPointsToList(i,t[17]);t[18]=new n.Path;t[18].add(new n.Point(u*87.5,r*42));t[18].add(new n.Point(u*91,r*100));t[18].add(new n.Point(u*100,r*100));t[18].add(new n.Point(u*100,r*86));t[18].closed=!0;t[18].fillColor=this.computeColor(f,-3);this.addPointsToList(i,t[18]);t[19]=new n.Path;t[19].add(new n.Point(u*20,r*60));t[19].add(new n.Point(u*25,r*90));t[19].add(new n.Point(u*30,r*78));t[19].fillColor=this.computeColor(f,-5);this.addPointsToList(i,t[19]);t[20]=new n.Path;t[20].add(new n.Point(u*25,r*90));t[20].add(new n.Point(u*23,r*100));t[20].add(new n.Point(u*29,r*100));t[20].fillColor=this.computeColor(f,-8);this.addPointsToList(i,t[20]);t[21]=new n.Path;t[21].add(new n.Point(u*25,r*90));t[21].add(new n.Point(u*29,r*100));t[21].add(new n.Point(u*37,r*100));t[21].add(new n.Point(u*30,r*78));t[21].fillColor=this.computeColor(f,-4);this.addPointsToList(i,t[21])},createAnimationPaths:function(n,t,i,r,u){var f,o,e,s;for(t[2].animationpath=[new n.Point(r*5,i*60),new n.Point(r*7,i*80),new n.Point(r*15,i*85)],t[3].animationpath=[new n.Point(r*4,i*20),new n.Point(r*7,i*35),new n.Point(r*15,i*30)],t[5].animationpath=[new n.Point(r*5,i*5),new n.Point(r*7,i*7),new n.Point(r*12,i*20)],t[6].animationpath=[new n.Point(r*22,i*50),new n.Point(r*20,i*40)],t[7].animationpath=[new n.Point(r*18,i*5),new n.Point(r*17.5,i*3)],t[9].animationpath=[new n.Point(r*27.5,i*85),new n.Point(r*17.5,i*80)],t[15].animationpath=[new n.Point(r*27.5,i*12),new n.Point(r*25,i*5)],t[13].animationpath=[new n.Point(r*40,i*50),new n.Point(r*35,i*30)],t[12].animationpath=[new n.Point(r*35,i*70),new n.Point(r*27.5,i*65)],t[16].animationpath=[new n.Point(r*55,i*20),new n.Point(r*50,i*10)],t[18].animationpath=[new n.Point(r*45,i*90),new n.Point(r*60,i*80)],t[23].animationpath=[new n.Point(r*70,i*40),new n.Point(r*75,i*70)],t[26].animationpath=[new n.Point(r*75,i*5),new n.Point(r*72.5,i*20)],t[28].animationpath=[new n.Point(r*90,i*5),new n.Point(r*85,i*18)],t[27].animationpath=[new n.Point(r*85,i*30),new n.Point(r*82.5,i*32.5)],t[30].animationpath=[new n.Point(r*95,i*50),new n.Point(r*90,i*70)],f=0;f<t.length;f++){if(o=t[f].animationpath,o!=null){for(e=new n.Path,e.add(t[f].point),s=0;s<o.length;s++)e.add(o[s]);e.scale(u.intensity/100,t[f].point);e.closed=!0;e.smooth();t[f].animationpath=e}t[f].offset=0}},animate:function(n,t,i,r){for(var u=0;u<t.length;u++)t[u].animationpath!=null&&(t[u].offset<t[u].animationpath.length?(this.movePoint(i,t[u].point,t[u].animationpath.getPointAt(t[u].offset)),t[u].offset+=n.delta*r.speed):t[u].offset=0)}};Array.prototype.AddUnique=function(n,t){n.filter(function(n){return n.point.x==t.point.x&&n.point.y==t.point.y})[0]==null&&n.push(t)};